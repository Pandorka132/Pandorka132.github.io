{"version":3,"file":"index-C2YMSZCd.js","sources":["../../src/components/element.ts","../../src/components/dot.ts","../../src/components/hand.ts","../../src/components/cell.ts","../../src/utilities/digit.ts","../../src/components/digit.ts","../../src/components/field.ts","../../src/components/clock.ts","../../src/utilities/time.ts","../../src/components/app.ts","../../main.ts"],"sourcesContent":["export type CreateElementProps = {\n  type: string;\n  id?: string;\n  classes?: string;\n  data?: Record<string, string | number>;\n  children?: HTMLElement[];\n}\n\nexport type GetElementProps = {\n  id?: string;\n  data?: {\n    key: string;\n    value: string | number;\n  }\n}\n\nexport type CustomNode<T = HTMLElement> = {\n  element: T;\n  children: HTMLElement[];\n}\n\nclass ElementComponent {\n  create(props: CreateElementProps) {\n    const node = document.createElement(props.type);\n\n    if (props.id) node.id = props.id;\n\n    if (props.classes) node.classList.add(props.classes);\n\n    if (props.data) {\n      Object.entries(props.data).forEach(([key, value]) => {\n        node.dataset[key] = value.toString();\n      });\n    }\n\n    if (props.children) {\n      props.children.forEach((child) => El.append(node, child));\n    }\n\n    return node;\n  }\n\n  get<T extends HTMLElement>(props: GetElementProps): CustomNode<T> {\n    if (props.id) {\n      const element =  document.getElementById(props.id) as T;\n\n      if(!element) throw new Error(`Element with id \"${props.id}\" not found`);\n\n      const children = Array.from(element.childNodes) as HTMLElement[];\n\n      return {\n        element,\n        children\n      };\n    }\n\n    if (props.data) {\n      const element = document.querySelector(`[data-${props.data.key}=\"${props.data.value}\"]`) as T;\n\n      if(!element) throw new Error(`Element with data-${props.data.key}=\"${props.data.value}\" not found`);\n\n      const children = Array.from(element.childNodes) as HTMLElement[];\n\n      return {\n        element,\n        children\n      };\n    }\n\n    throw new Error(\"Id or data attribute required to find an element.\");\n  }\n\n  append(node: HTMLElement | string, child: HTMLElement) {\n    if (typeof node === \"string\") {\n      const element = document.getElementById(node) as HTMLElement;\n\n      element.appendChild(child);\n    }\n    \n    if (node instanceof HTMLElement) {\n      node.appendChild(child);\n    }\n  }\n\n  children(node: HTMLElement) {\n    return Array.from(node.childNodes) as HTMLElement[];\n  }\n}\n\nexport const El = new ElementComponent();","import { El } from \"$src/components/element\";\n\nclass DotComponent {\n  create() {\n    return El.create({ type: \"div\", classes: \"dot\" });\n  }\n}\n\nexport const Dot = new DotComponent();","import { El } from \"$src/components/element\";\n\nclass HandComponent {\n  create() {\n    return El.create({ type: \"div\", classes: \"hand\" });\n  }\n\n  tick(hand: HTMLElement, rotation: number) {\n    hand.style.rotate = `${rotation}deg`;\n  }\n}\n\nexport const Hand = new HandComponent();","import { Dot } from \"$src/components/dot\";\nimport { El } from \"$src/components/element\";\nimport { Hand } from \"$src/components/hand\";\n\nclass CellComponent {\n  create(index: number) {\n    return El.create({ \n      type: \"div\", \n      classes: \"cell\", \n      data: { index },\n      children: [Hand.create(), Hand.create(), Dot.create()]\n    });\n  }\n\n  tick(cell: HTMLElement, rotation: number[]) {\n    El.children(cell)\n      .map((hand, index) => Hand.tick(hand, rotation[index]));\n  }\n}\n\nexport const Cell = new CellComponent();","import { DigitKey } from \"$src/types/digit\";\nimport { RotationKey } from \"$src/types/rotation\";\n\nexport const rotation = {\n  \" \": [135, 135],\n  \"┘\": [180, 270],\n  \"└\": [0, 270],\n  \"┐\": [90, 180],\n  \"┌\": [0, 90],\n  \"-\": [0, 180],\n  \"|\": [90, 270]\n}\n\nexport const digits = {\n  \"0\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"|\", \"┌\", \"┐\", \"|\",\n    \"|\", \"|\", \"|\", \"|\",\n    \"|\", \"|\", \"|\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"1\": [\n    \"┌\", \"-\", \"┐\", \" \",\n    \"└\", \"┐\", \"|\", \" \",\n    \" \", \"|\", \"|\", \" \",\n    \" \", \"|\", \"|\", \" \",\n    \"┌\", \"┘\", \"└\", \"┐\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"2\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \"┌\", \"-\", \"┘\", \"|\",\n    \"|\", \"┌\", \"-\", \"┘\",\n    \"|\", \"└\", \"-\", \"┐\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"3\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \" \", \"┌\", \"┘\", \"|\",\n    \" \", \"└\", \"┐\", \"|\",\n    \"┌\", \"-\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"4\": [\n    \"┌\", \"┐\", \"┌\", \"┐\",\n    \"|\", \"|\", \"|\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \" \", \" \", \"|\", \"|\",\n    \" \", \" \", \"└\", \"┘\",\n  ],\n\n  \"5\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"|\", \"┌\", \"-\", \"┘\",\n    \"|\", \"└\", \"-\", \"┐\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \"┌\", \"-\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"6\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"|\", \"┌\", \"-\", \"┘\",\n    \"|\", \"└\", \"-\", \"┐\",\n    \"|\", \"┌\", \"┐\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"7\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \" \", \" \", \"|\", \"|\",\n    \" \", \" \", \"|\", \"|\",\n    \" \", \" \", \"|\", \"|\",\n    \" \", \" \", \"└\", \"┘\",\n  ],\n\n  \"8\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"|\", \"┌\", \"┐\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"|\", \"┌\", \"┐\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ],\n\n  \"9\": [\n    \"┌\", \"-\", \"-\", \"┐\",\n    \"|\", \"┌\", \"┐\", \"|\",\n    \"|\", \"└\", \"┘\", \"|\",\n    \"└\", \"-\", \"┐\", \"|\",\n    \"┌\", \"-\", \"┘\", \"|\",\n    \"└\", \"-\", \"-\", \"┘\",\n  ]\n}\n\nexport const cell = (value: string, index: number) => {\n  const digit = digits[value as DigitKey];\n\n  if(digit) {\n    const symbol = digit[index] as RotationKey;\n\n    const pair = rotation[symbol];\n\n    if(pair) return pair;\n  }\n\n  return rotation[\" \"];\n}","import { Cell } from \"$src/components/cell\";\nimport { El } from \"$src/components/element\";\n\nimport { cell } from \"$src/utilities/digit\";\n\nclass DigitComponent {\n  create(index: number) {\n    const children = Array.from({ length: 24 }, (_, i) => Cell.create(i));\n\n    return El.create({ \n      type: \"div\", \n      classes: \"digit\", \n      data: { index },\n      children \n    });\n  }\n\n  tick(digit: HTMLElement, value: string) {\n    El.children(digit)\n      .map((node, index) => Cell.tick(node, cell(value, index)));\n  }\n}\n\nexport const Digit = new DigitComponent();","import { Digit } from \"$src/components/digit\";\nimport { El } from \"$src/components/element\";\n\nclass FieldComponent {\n  create(field: string) {\n    return El.create({ \n      type: \"div\", \n      classes: \"pair\", \n      data: { field },\n      children: [Digit.create(0), Digit.create(1)]\n    });\n  }\n\n  tick(name: string, value: string) {\n    El.get({ data: { key: \"field\", value: name } })\n      .children\n      .map((digit, index) => Digit.tick(digit, value[index]));\n  }\n}\n\nexport const Field = new FieldComponent();","import { El } from \"$src/components/element\";\nimport { Field } from \"$src/components/field\";\n\nimport type { Time } from \"$src/types/time\";\n\nclass ClockComponent {\n  create() {\n    const children = [Field.create(\"hours\"), Field.create(\"minutes\"), Field.create(\"seconds\")];\n\n    return El.create({ type: \"div\", classes: \"clock\", children });\n  }\n\n  tick(time: Time) {\n    Field.tick(\"hours\", time.hours);\n    Field.tick(\"minutes\", time.minutes);\n    Field.tick(\"seconds\", time.seconds);\n\n    return time;\n  }\n}\n\nexport const Clock = new ClockComponent();","import type { Time } from \"$src/types/time\";\n\nexport const now = (): Time => {\n  const time = new Date().toLocaleTimeString(\"en-US\", { \n    hour12: true,\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n  });\n\n  const string = time.split(\" \")[0];\n\n  const [hours, minutes, seconds] = string.split(\":\");\n\n  return {\n    hours,\n    minutes,\n    seconds\n  }\n}\n\nexport const equal = (a: Time, b: Time) => {\n  return a.hours === b.hours && a.minutes === b.minutes && a.seconds === b.seconds;\n}","import { Clock } from \"$src/components/clock\";\nimport { El } from \"$src/components/element\";\n\nimport { equal, now } from \"$src/utilities/time\";\n\nimport type { Time } from \"$src/types/time\";\n\nclass App {\n  time: Time = now();\n\n  init() {\n    El.append(\"app\", Clock.create());\n\n    this.tick();\n  }\n\n  interval() {\n    const time = now();\n\n    if(!equal(time, this.time)) {\n      this.time = Clock.tick(time);\n    }\n  }\n\n  tick() {\n    Clock.tick(this.time);\n\n    setInterval(() => this.interval(), 100);\n  }\n}\n\nexport const app = new App();","import { app } from \"$src/components/app\";\n\napp.init();"],"names":["ElementComponent","props","node","key","value","child","El","element","children","DotComponent","Dot","HandComponent","hand","rotation","Hand","CellComponent","index","cell","Cell","digits","digit","symbol","pair","DigitComponent","_","i","Digit","FieldComponent","field","name","Field","ClockComponent","time","Clock","now","string","hours","minutes","seconds","equal","a","b","App","app"],"mappings":"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"}